allprojects {
    apply plugin: 'c'

    model {
        buildTypes {
            debug
            production
        }

        binaries {
            all {
                cCompiler.args '-Wall', '-Wextra', '-Werror'

                cCompiler.define 'ERRHAND_MIN_LEVEL=DBG_LVL_TRACE'
                cCompiler.define 'ERRHAND_SUBSYS_ON=(DBG_DEV_MNGR | ' +
                        'DBG_DEV_IO | DBG_SM_IO | DBG_LIB_CLIENT | ' +
                        'DBG_SM_PR | DBG_SM_CH | DBG_LL_IO | DBG_HAL_UTILS)'

                if (buildType == buildTypes.debug)
                    cCompiler.args '-g'
            }
        }
    }
}
